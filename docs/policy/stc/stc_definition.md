# STC Workflow

STC workflow это подход к разработке где мы стараемся определить набор минимальных сущностей для того чтобы построить приложение.
STC это отсылка к Standard Template Construct из вселенной Warhammer40k https://warhammer40k.fandom.com/wiki/Standard_Template_Construct_(STC)

## Для чего

Впервую очередь этот подход нужен для случаев где мы разрабатываем приложения вместе с AI. Основные цели:

Goals:
- предотвратить дублирование типов
- предотвартить дублирование кода
- иметь расширяемую структуру приложения в едином стиле
- иметь утвержденные и proposal сущности для планирования развития проекта
  
Proposal goals:
- иметь возможность создавать совместимые друг с другом модули
- дать возможность посмотреть что умеют модули не копаясь в коде
- избегать vendor-lock

## Что не является целью

Не является целью сделать единый фреймворк из компонентов для любого случая жизни. Цель ставится на том чтобы иметь минимальный набор компонентов

## Реестры

Предполагается что мы можем составить свой STC framework путем создания 3 реестров. Реестры могут быть просто директорией с файлами

### STC Types Registry

Это реестр с типами и схемами без конкретной имплементации

### STC Components Registry

В этом реестре мы уже имеем конкретную имплементацию в соответствии с типами

### STC Policy Registry

Это реестр с правилами и философией создания приложений. Так же он содержит slash-commands, rules, system propmts, mcp and tools для AI агентов без vendor-lock для конкретного ai агента

## Current Frameworks

Сейчас ведется разработка STCjs фреймворка ориентированного на разработку с помощью ts/js

Большинство сущностей реализуют тип STC.Brick<TMeta = undefined> = { id?, brickType: string, meta: TMeta }

Если объекту требуется очистка памяти по уничтожению то он реализует STC.Disposable тип и имеет массив dispossables и метод dispose. Есть тип STC.Subscribable который обычно всегда применим только к Disposable объектам

Есть Channel который опысывает канал событий он является Disposable и Subscribable

Есть тип STC.Collection для работы с коллекциями. Причем берется за правило что у нас в первую очередь создается stateless сущности, а во второую statefull. STC.Collection - это Stateless Collection STC.Collection<TRecodType, TMetaType, TQueryEngine = 'mingo'>. Если нужно хранить данные в памяти то используется STC.StatefullCollection. Для многих entities есть тип descriptor типы. Например CollectionDescriptor, ChatDescriptor. Чаще всего они служат для того чтобы представлять минимальную информацию об объекте (id, type, title иногда meta ) в списках. Дескрипторы должны быть сериализуемы

Тип STC.Module описывает модуль приложения. Модули компонуются друг в друга, корневой модуль становится корнем приложения. Модули стараются быть независимыми, таким образом одтельный модуль может запускаться как отдельное приложение






